var d=Object.defineProperty;var n=(a,s,i)=>s in a?d(a,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[s]=i;var t=(a,s,i)=>(n(a,typeof s!="symbol"?s+"":s,i),i);import{P as l}from"./vendor.c2cc9365.js";const c=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}};c();var u="/phaser-tutorial/assets/sky.3e1050c2.png",m="/phaser-tutorial/assets/platform.217f5878.png",p="/phaser-tutorial/assets/star.df34f207.png",f="/phaser-tutorial/assets/bomb.9b05290c.png",y="/phaser-tutorial/assets/dude.2b245ac6.png";class b extends Phaser.Scene{constructor(){super({key:"Game",physics:{arcade:{gravity:{y:300},debug:!1}}});t(this,"platforms");t(this,"player");t(this,"stars");t(this,"bombs");t(this,"cursors");t(this,"score",0);t(this,"scoreText");t(this,"gameOver",!1);t(this,"sky","sky");t(this,"platform","platform");t(this,"star","star");t(this,"bomb","bomb");t(this,"dude","dude");t(this,"dudeAnimLeft","dudeAnimLeft");t(this,"dudeAnimTurn","dudeAnimTurn");t(this,"dudeAnimRight","dudeAnimRight")}preload(){this.load.image(this.sky,u),this.load.image(this.platform,m),this.load.image(this.star,p),this.load.image(this.bomb,f),this.load.spritesheet(this.dude,y,{frameWidth:32,frameHeight:48})}create(){this.score=0,this.gameOver=!1,this.add.image(400,300,this.sky),this.platforms=this.physics.add.staticGroup(),this.platforms.create(400,568,this.platform).setScale(2).refreshBody(),this.platforms.create(600,400,this.platform),this.platforms.create(50,250,this.platform),this.platforms.create(750,220,this.platform),this.player=this.physics.add.sprite(100,450,this.dude),this.player.setBounce(.2),this.player.setCollideWorldBounds(!0),this.anims.create({key:this.dudeAnimLeft,frames:this.anims.generateFrameNumbers(this.dude,{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:this.dudeAnimTurn,frames:[{key:this.dude,frame:4}],frameRate:20}),this.anims.create({key:this.dudeAnimRight,frames:this.anims.generateFrameNumbers(this.dude,{start:5,end:8}),frameRate:10,repeat:-1}),this.physics.add.collider(this.player,this.platforms),this.stars=this.physics.add.group({key:this.star,repeat:11,setXY:{x:12,y:0,stepX:70}}),this.stars.children.iterate(function(s){s.setBounceY(Phaser.Math.FloatBetween(.4,.8))}),this.physics.add.collider(this.stars,this.platforms),this.physics.add.overlap(this.player,this.stars,this.collectStar,function(){},this),this.bombs=this.physics.add.group(),this.physics.add.collider(this.bombs,this.platforms),this.physics.add.collider(this.player,this.bombs,this.hitBomb,function(){},this),this.scoreText=this.add.text(16,16,"Score: 0",{fontSize:"32px",color:"#000"}),this.cursors=this.input.keyboard.createCursorKeys()}update(){this.gameOver||(this.cursors.left.isDown?(this.player.setVelocityX(-160),this.player.anims.play(this.dudeAnimLeft,!0)):this.cursors.right.isDown?(this.player.setVelocityX(160),this.player.anims.play(this.dudeAnimRight,!0)):(this.player.setVelocityX(0),this.player.anims.play(this.dudeAnimTurn)),this.cursors.up.isDown&&this.player.body.touching.down&&this.player.setVelocityY(-330))}collectStar(s,i){if(i.disableBody(!0,!0),this.score+=10,this.scoreText.setText("Score: "+this.score),this.stars.countActive(!0)==0){this.stars.children.iterate(function(r){r.enableBody(!0,r.x,0,!0,!0)});let o=this.player.x<400?Phaser.Math.Between(400,800):Phaser.Math.Between(0,400),e=this.bombs.create(o,16,this.bomb);e.setBounce(1),e.setCollideWorldBounds(!0),e.setVelocity(Phaser.Math.Between(-200,200),20)}}hitBomb(s,i){this.physics.pause(),s.setTint(16711680),this.gameOver=!0,this.player.anims.play(this.dudeAnimTurn),this.input.keyboard.on("keydown",()=>this.scene.start(this.scene.key))}}let g={type:l.AUTO,width:800,height:600,scene:[b]};new l.Game(g);
