var d=Object.defineProperty;var l=(a,t,i)=>t in a?d(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var e=(a,t,i)=>(l(a,typeof t!="symbol"?t+"":t,i),i);import{P as n}from"./vendor.c2cc9365.js";const c=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&h(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function h(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}};c();class u extends Phaser.Scene{constructor(){console.log("Constructing Menu scene...");super({key:"Menu"});e(this,"scenes",["PhaserTutorial"]);e(this,"menuItems",[]);e(this,"selector");e(this,"selectorIndex",0);e(this,"keyUp");e(this,"keyDown");e(this,"keyEnter");e(this,"x",10);e(this,"y",0);e(this,"gap",10)}init(){}preload(){}create(){console.log("Starting Menu scene...");let t=this.y;for(let i=0;i<this.scenes.length;i++)this.menuItems.push(this.add.text(this.x,t+this.gap,this.scenes[i]).setOrigin(0,0)),t=this.menuItems[i].y+this.menuItems[i].height;this.selector=this.add.rectangle(this.x,this.y+this.gap,this.menuItems[0].width,this.menuItems[0].height,16777215,.25).setOrigin(0,0),this.keyUp=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP),this.keyDown=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN),this.keyEnter=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER)}update(){if(Phaser.Input.Keyboard.JustDown(this.keyUp)){if(this.selectorIndex<=0){this.selectorIndex=0;return}this.selectorIndex--,this.tweens.add({targets:this.selector,x:this.menuItems[this.selectorIndex].x,y:this.menuItems[this.selectorIndex].y,width:this.menuItems[this.selectorIndex].width,height:this.menuItems[this.selectorIndex].height,duration:100})}if(Phaser.Input.Keyboard.JustDown(this.keyDown)){if(this.selectorIndex>=this.menuItems.length-1){this.selectorIndex=this.menuItems.length-1;return}this.selectorIndex++,this.tweens.add({targets:this.selector,x:this.menuItems[this.selectorIndex].x,y:this.menuItems[this.selectorIndex].y,width:this.menuItems[this.selectorIndex].width,height:this.menuItems[this.selectorIndex].height,duration:100})}Phaser.Input.Keyboard.JustDown(this.keyEnter)&&this.scene.start(this.scenes[this.selectorIndex])}}var m="/phaser-arcade/assets/sky.3e1050c2.png",p="/phaser-arcade/assets/platform.217f5878.png",y="/phaser-arcade/assets/star.df34f207.png",f="/phaser-arcade/assets/bomb.9b05290c.png",g="/phaser-arcade/assets/dude.2b245ac6.png";class b extends Phaser.Scene{constructor(){console.log("Constructing PhaserTutorial scene...");super({key:"PhaserTutorial",physics:{arcade:{gravity:{y:300},debug:!1}}});e(this,"platforms");e(this,"player");e(this,"stars");e(this,"bombs");e(this,"cursors");e(this,"score",0);e(this,"scoreText");e(this,"gameOver",!1);e(this,"sky","sky");e(this,"platform","platform");e(this,"star","star");e(this,"bomb","bomb");e(this,"dude","dude");e(this,"dudeAnimLeft","dudeAnimLeft");e(this,"dudeAnimTurn","dudeAnimTurn");e(this,"dudeAnimRight","dudeAnimRight")}preload(){this.load.image(this.sky,m),this.load.image(this.platform,p),this.load.image(this.star,y),this.load.image(this.bomb,f),this.load.spritesheet(this.dude,g,{frameWidth:32,frameHeight:48})}create(){console.log("Starting PhaserTutorial scene..."),this.score=0,this.gameOver=!1,this.add.image(400,300,this.sky),this.platforms=this.physics.add.staticGroup(),this.platforms.create(400,568,this.platform).setScale(2).refreshBody(),this.platforms.create(600,400,this.platform),this.platforms.create(50,250,this.platform),this.platforms.create(750,220,this.platform),this.player=this.physics.add.sprite(100,450,this.dude),this.player.setBounce(.2),this.player.setCollideWorldBounds(!0),this.anims.create({key:this.dudeAnimLeft,frames:this.anims.generateFrameNumbers(this.dude,{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:this.dudeAnimTurn,frames:[{key:this.dude,frame:4}],frameRate:20}),this.anims.create({key:this.dudeAnimRight,frames:this.anims.generateFrameNumbers(this.dude,{start:5,end:8}),frameRate:10,repeat:-1}),this.physics.add.collider(this.player,this.platforms),this.stars=this.physics.add.group({key:this.star,repeat:11,setXY:{x:12,y:0,stepX:70}}),this.stars.children.iterate(function(t){t.setBounceY(Phaser.Math.FloatBetween(.4,.8))}),this.physics.add.collider(this.stars,this.platforms),this.physics.add.overlap(this.player,this.stars,this.collectStar,function(){},this),this.bombs=this.physics.add.group(),this.physics.add.collider(this.bombs,this.platforms),this.physics.add.collider(this.player,this.bombs,this.hitBomb,function(){},this),this.scoreText=this.add.text(16,16,"Score: 0",{fontSize:"32px",color:"#000"}),this.cursors=this.input.keyboard.createCursorKeys()}update(){this.gameOver||(this.cursors.left.isDown?(this.player.setVelocityX(-160),this.player.anims.play(this.dudeAnimLeft,!0)):this.cursors.right.isDown?(this.player.setVelocityX(160),this.player.anims.play(this.dudeAnimRight,!0)):(this.player.setVelocityX(0),this.player.anims.play(this.dudeAnimTurn)),this.cursors.up.isDown&&this.player.body.touching.down&&this.player.setVelocityY(-330))}collectStar(t,i){if(i.disableBody(!0,!0),this.score+=10,this.scoreText.setText("Score: "+this.score),this.stars.countActive(!0)==0){this.stars.children.iterate(function(r){r.enableBody(!0,r.x,0,!0,!0)});let h=this.player.x<400?Phaser.Math.Between(400,800):Phaser.Math.Between(0,400),s=this.bombs.create(h,16,this.bomb);s.setBounce(1),s.setCollideWorldBounds(!0),s.setVelocity(Phaser.Math.Between(-200,200),20)}}hitBomb(t,i){this.physics.pause(),t.setTint(16711680),this.gameOver=!0,this.player.anims.play(this.dudeAnimTurn),this.input.keyboard.on("keydown",()=>this.scene.start(this.scene.key))}}let I={type:n.AUTO,width:800,height:600,scene:[u,b]};console.log("Starting Phaser...");new n.Game(I);
